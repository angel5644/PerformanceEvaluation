@model IEnumerable<PES.Models.EmployeeManagerViewModel>
@using PES.Models 
@{
    ViewBag.Title = "Search Information";
    var currentUser = ViewBag.currentEmployee;
}
    <p class="text-right">
        <a href="@Url.Action("Logout","LoginUser")">Logout</a>
    </p>
    <div class="row text-center">
        <div class="col-md-12">
            <h2>Search Information</h2>
        </div>
    </div>
<table id="Tableview" border="1" class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Id</th>
            <th>Employee</th>
            <th>Position</th>
            <th>Email</th>
            @if (currentUser.ProfileId == (int)ProfileUser.Director)
            {
                <th>Manager</th>
            }           
        </tr>
    </thead>
    <tbody>
        @foreach (var employeeM in Model)
        {
            <tr>
                <td>@employeeM.employee.EmployeeId</td>
                <td><a href="@Url.Action("ChoosePeriod", "PerformanceEvaluation", new { employeeEmail = employeeM.employee.Email, employeeID = employeeM.employee.EmployeeId})">@(employeeM.employee.FirstName + " " + employeeM.employee.LastName)</a></td>
                <td>@(employeeM.employee.Position)</td>
                <td>@(employeeM.employee.Email)</td>
                @if (currentUser.ProfileId == (int)ProfileUser.Director)
                {
                    <td>@(employeeM.manager.FirstName + " " + employeeM.manager.LastName)</td>
                }

            </tr>
        }
    </tbody>
</table>

@section Styles
{
    @Styles.Render("~/Content/datatables/dataTables.bootstrap.min.css")
    @Styles.Render("~/Content/ExportDataTables/buttons.dataTables.min.css")
}


@section Scripts
{
    @Scripts.Render("~/Scripts/jquery.dataTables.min.js")
    @Scripts.Render("~/Scripts/dataTables.bootstrap.min.js")
    @Scripts.Render("~/Scripts/ExportDataTables/dataTables.buttons.min.js")
    @Scripts.Render("~/Scripts/ExportDataTables/jszip.min.js")
    @Scripts.Render("~/Scripts/ExportDataTables/pdfmake.min.js")
    @Scripts.Render("~/Scripts/ExportDataTables/vfs_fonts.js")
    @Scripts.Render("~/Scripts/ExportDataTables/buttons.html5.min.js")




    <script type="text/javascript">
    $(document).ready(function () {
        $('#Tableview').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'excel', 'pdf'],
            lengthMenu: [[25, 50, 100, -1], [25, 50, 100, "All"]],
            pageLength: 25
        });
    });
    </script>
  
}

   
